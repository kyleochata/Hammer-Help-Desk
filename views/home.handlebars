<div class="home-container">
  <div id="userData" data-user-id="{{userid}}"></div>
  <div class="animation-container">
    <div id="tile-anime"></div>
      <h2 id="welcome" class="header-text welcome">Welcome {{firstName}}</h2>
      <p class="header-text welcome" id="info-head">Click here to create or filter tickets</p>
    <section class='top-main header-text' id="button-container-home">
      <h3>Please click one of the buttons to filter your tickets by status</h3>
      <div id='main-btn-container'>
        <button id="open-btn">Open</button>
        <button id="claimed-btn">Claimed</button>
        <button id="pending-btn">Pending</button>
        <button id="resolved-btn">Resolved</button>
        <button id="all-btn"><a href='/'>All</a></button>
        <button class="create-new-modal-trigger" id="new-ticket-btn">+ New Ticket</button>
      </div>
  </section>
  </div>

  {{#if tickets}}
<div class="no-ticket-container">
  <h2 class="table-title">Your Tickets</h2>
</div>
  {{/if}}
<section class='bottom-main'>
  {{#if tickets}}
  <table>
    <tr class="table-head">
      <th>
      {{#if isTech}}
        <div class='table-cell'>
          Claim
        </div>
      {{/if}}
      </th>
      <th>
        <div class='table-cell'>
          Status
        </div>
      </th>
      <th>
        <div class='table-cell'>
          Urgency
        </div>
        </th>
      <th>
        <div class='table-cell'>
          Client
        </div>
      </th>
      <th>
        <div class='table-cell'>
          Technician
        </div>
      </th>
      <th>
        <div class='table-cell'>
          Created
        </div>
      </th>
      <th>
        <div class='table-cell'>
          View
        </div>
      </th>
    </tr>

      {{#each tickets}}
      {{> table}}
      {{/each}}

  </table>
{{else}}
<p class="no-ticket-msg">No tickets here. Please check back later</p>
{{/if}}
</section>

<div class="modal-screen">
  <section id="new-ticket-modal" class="hidden">
        <button id="close-ticket-modal">X</button>
        <div class="ticket-form">
          <header>
            <h3>New Ticket</h3>
          </header>
          <div>
            <label for="subject">
              <h4>Subject</h4>
            </label>
          </div>
          <div>
            <input type="text" id="subject" />
          </div>
          <div>
            <label for="description">
              <h4>Description</h4>
            </label>
          </div>
          <div>
            <textarea
              placeholder="Please tell us more about your issue"
              id="description"
            ></textarea>
          </div>
          <div>
            <label for="urgency">
              <h4>Urgency</h4>
            </label>
          </div>
          <select name="urgency" id="urgency">
            <option value="Low" selected>Low</option>
            <option value="Medium">Medium</option>
            <option value="High">High</option>
          </select>
          <button id="submit-ticket">Create Ticket</button>
        </div>
      </section>
  </div>

    <footer>

      <button class='footer-btn' id='back-btn'><a href='/'>Back</a></button>
      
      <button id='logout-btn' class='footer-btn'>Logout</button>

    </footer>
</div>

<script src="https://cdn.jsdelivr.net/npm/animejs"></script>
<script src='./assets/js/home.js' type="module"></script>
